<ion-view view-title="Articles" class="articles">

	<ion-nav-buttons side="right">
		<button class="button button-clear icon ion-android-options" ng-click="vm.showFilter()"></button>
	</ion-nav-buttons>

	<ion-content ng-init="vm.search = ''">
		<ion-scroll zooming="true" direction="x" scrollbar-x="false" class="categories-filter">
			<span ng-repeat="category in vm.categories">
				<button class="button button-light filter-button"
					ng-click="vm.filterByCategory(category.key)"
					ng-class="{'active-filter-button': category.key === vm.selectedCategory}">
					{{category.value}}
				</button>
			</span>
		</ion-scroll>
		<div class="item search-box">
			<input type="text" placeholder="Search" ng-model="vm.search"/>
		</div>
		<div class="item item-thumbnail-left item-text-wrap"
			ng-click="vm.openDetails(item)"
			ng-repeat="item in vm.items | filter: { title: vm.search } | orderBy: vm.sortBy">
			<img ng-src="{{item.images[0].url}}">
			<h2>{{item.title}}</h2>
			<h3>{{item.category.value}}</h3>
			<p>{{item.body | limitTo: 140 }}{{item.body.length > 140 ? '...' : ''}}</p>
			<p class="tags"> <i class="icon ion-pricetags"></i> {{item.tagsString}}</p>
		</div>
	</ion-content>
</ion-view>
